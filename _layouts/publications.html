---
layout: default
---

{% if page.header.overlay_color or page.header.overlay_image or page.header.image %}
  {% include page__hero.html %}
{% endif %}

{% if page.url != "/" and site.breadcrumbs %}
  {% unless paginator %}
    {% include breadcrumbs.html %}
  {% endunless %}
{% endif %}

{%- assign items = site.publications | sort: "year" | reverse -%}

/* --- Partition items into sections --- */
{%- assign reviewed = items | where_exp: "p",
  "p.status and (p.status == 'under_review' or p.status == 'major_revision' or p.status == 'minor_revision')" -%}
{%- assign wip = items | where_exp: "p",
  "p.status and (p.status == 'draft' or p.status == 'working_paper' or p.status == 'in_preparation' or p.status == 'wip')" -%}

{%- comment -%}
  Optional: If you have other statuses (accepted/published), they wonâ€™t show on this page.
  You can add a third section by defining another filtered array if you want.
{%- endcomment -%}

<div id="main" role="main" class="with-toc">
  {% include sidebar.html %}

  <div class="archive">
    {% unless page.header.overlay_color or page.header.overlay_image %}
      <h1 class="page__title">{{ page.title }}</h1>
    {% endunless %}

    <div class="archive__content">

      {%- assign sections = "Under review / revision|reviewed,Work in progress|wip" | split: "," -%}
      {%- for sec in sections -%}
        {%- assign parts = sec | split: "|" -%}
        {%- assign sec_title = parts[0] -%}
        {%- assign sec_key = parts[1] -%}
        {%- assign list = nil -%}
        {%- if sec_key == "reviewed" -%}{% assign list = reviewed %}{% endif -%}
        {%- if sec_key == "wip" -%}{% assign list = wip %}{% endif -%}

        {%- if list and list.size > 0 -%}
          <h2 class="pub__section">{{ sec_title }}</h2>

          {%- for post in list -%}
            {%- assign raw_status = post.status | downcase -%}
            {%- capture status_label -%}
              {%- case raw_status -%}
                {%- when "under_review" -%}Under Review
                {%- when "major_revision" -%}Major Revision
                {%- when "minor_revision" -%}Minor Revision
                {%- when "draft" -%}Draft
                {%- when "working_paper" -%}Working Paper
                {%- when "in_preparation" -%}In Preparation
                {%- when "wip" -%}Work in Progress
                {%- else -%}{{ post.status | replace: "_"," " | capitalize }}
              {%- endcase -%}
            {%- endcapture -%}

            <article id="pub-{{ post.slug | slugify }}" class="archive__item">
              <h2 class="archive__item-title">{{ post.title }}</h2>

              {%- if post.authors -%}
                <p class="archive__item-meta">{{ post.authors }}</p>
              {%- endif -%}

              {%- if post.venue or post.year or post.status -%}
                <p class="archive__item-meta pub__meta">
                  {%- if post.status -%}
                    <span class="pub__status">{{ status_label | strip }}</span>
                    <span class="pub__dash">&nbsp;â€”&nbsp;</span>
                  {%- endif -%}
                  {%- if post.venue -%}
                    <span class="pub__venue"><em>{{ post.venue }}</em></span>
                  {%- endif -%}
                  {%- if post.year -%}
                    <span class="pub__dot"> Â· </span><span class="pub__year">{{ post.year }}</span>
                  {%- endif -%}
                </p>
              {%- endif -%}

              {%- if post.abstract -%}
                <div class="archive__item-excerpt">{{ post.abstract }}</div>
              {%- endif -%}

              <div class="pub__footer">
                {%- if post.pdf_link -%}
                  <a class="pub__link" href="{{ post.pdf_link }}" target="_blank" rel="noopener">ðŸ“„ Preprint</a>
                {%- endif -%}
              </div>
            </article>
          {%- endfor -%}
        {%- endif -%}
      {%- endfor -%}

      {%- if reviewed.size == 0 and wip.size == 0 -%}
        {{ content }}
      {%- endif -%}
    </div>
  </div>

  <aside class="toc toc--right">
    <h2 class="toc__title">Publications</h2>

    {%- if reviewed and reviewed.size > 0 -%}
      <h3 class="toc__section">Under review / revision</h3>
      <ol class="toc__list">
        {%- for post in reviewed -%}
          {%- assign raw_status = post.status | downcase -%}
          {%- capture status_label -%}
            {%- case raw_status -%}
              {%- when "under_review" -%}Under Review
              {%- when "major_revision" -%}Major Revision
              {%- when "minor_revision" -%}Minor Revision
              {%- else -%}{{ post.status | replace: "_"," " | capitalize }}
            {%- endcase -%}
          {%- endcapture -%}
          <li>
            <a href="#pub-{{ post.slug | slugify }}">
              <span class="toc__title-text">{{ post.title }}</span>
              <span class="toc__status"> â€” {{ status_label | strip }}</span>
            </a>
          </li>
        {%- endfor -%}
      </ol>
    {%- endif -%}

    {%- if wip and wip.size > 0 -%}
      <h3 class="toc__section">Work in progress</h3>
      <ol class="toc__list">
        {%- for post in wip -%}
          {%- assign raw_status = post.status | downcase -%}
          {%- capture status_label -%}
            {%- case raw_status -%}
              {%- when "draft" -%}Draft
              {%- when "working_paper" -%}Working Paper
              {%- when "in_preparation" -%}In Preparation
              {%- when "wip" -%}Work in Progress
              {%- else -%}{{ post.status | replace: "_"," " | capitalize }}
            {%- endcase -%}
          {%- endcapture -%}
          <li>
            <a href="#pub-{{ post.slug | slugify }}">
              <span class="toc__title-text">{{ post.title }}</span>
              <span class="toc__status"> â€” {{ status_label | strip }}</span>
            </a>
          </li>
        {%- endfor -%}
      </ol>
    {%- endif -%}
  </aside>
</div>
