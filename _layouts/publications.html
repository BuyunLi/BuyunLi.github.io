---
layout: default
---

{%- comment -%}
Primer-compatible publications layout
- Section 1: Research Papers  (everything NOT work_in_progress)
- Section 2: Work in Progress Papers (status == work_in_progress)
- Right TOC: "Research Papers" + "In preparation"
{%- endcomment -%}

{%- assign all = site.publications | sort: "year" | reverse -%}
{%- assign wip = all | where_exp: "p", "p.status == 'work_in_progress'" -%}
{%- assign main_items = all | where_exp: "p", "p.status != 'work_in_progress' or p.status == nil" -%}

<div id="main" class="with-toc">
  <!-- MAIN CONTENT -->
  <div class="archive">
    <h1 class="page__title">{{ page.title }}</h1>

    <div class="archive__content">

      {%- if main_items and main_items.size > 0 -%}
        <h2 class="pub__section">Research Papers</h2>
        {%- for post in main_items -%}
          {%- assign raw_status = post.status | downcase -%}
          {%- capture status_label -%}
            {%- case raw_status -%}
              {%- when "under_review" -%}Under Review
              {%- when "major_revision" -%}Major Revision
              {%- when "minor_revision" -%}Minor Revision
              {%- when "accepted" -%}Accepted
              {%- when "in_press" -%}In Press
              {%- when "published" -%}Published
              {%- when "draft" -%}Draft
              {%- when "work_in_progress" -%}Work in Progress
              {%- else -%}{{ post.status | replace: "_"," " | capitalize }}
            {%- endcase -%}
          {%- endcapture -%}

          {%- assign anchor_id = post.slug | default: post.title | slugify -%}
          <article id="pub-{{ anchor_id }}" class="archive__item">
            <h2 class="archive__item-title">{{ post.title }}</h2>

            {%- if post.authors -%}
              <p class="archive__item-meta">{{ post.authors }}</p>
            {%- endif -%}

            {%- if post.venue or post.year or post.status -%}
              <p class="archive__item-meta pub__meta">
                {%- if post.status -%}
                  <span class="pub__status">{{ status_label | strip }}</span>
                  <span class="pub__dash">&nbsp;â€”&nbsp;</span>
                {%- endif -%}
                {%- if post.venue -%}
                  <span class="pub__venue"><em>{{ post.venue }}</em></span>
                {%- endif -%}
                {%- if post.year -%}
                  <span class="pub__dot"> Â· </span><span class="pub__year">{{ post.year }}</span>
                {%- endif -%}
              </p>
            {%- endif -%}

            {%- if post.abstract -%}
              <div class="archive__item-excerpt">{{ post.abstract }}</div>
            {%- endif -%}

            <div class="pub__footer">
              {%- if post.pdf_link -%}
                <a class="pub__link" href="{{ post.pdf_link }}" target="_blank" rel="noopener">ðŸ“„ Preprint</a>
              {%- endif -%}
            </div>
          </article>
        {%- endfor -%}
      {%- endif -%}

      {%- if wip and wip.size > 0 -%}
        <h2 class="pub__section">Work in Progress Papers</h2>
        {%- for post in wip -%}
          {%- assign anchor_id = post.slug | default: post.title | slugify -%}
          <article id="pub-{{ anchor_id }}" class="archive__item">
            <h2 class="archive__item-title">{{ post.title }}</h2>

            {%- if post.authors -%}
              <p class="archive__item-meta">{{ post.authors }}</p>
            {%- endif -%}

            <p class="archive__item-meta pub__meta">
              <span class="pub__status">Work in Progress</span>
              {%- if post.venue -%}
                <span class="pub__dash">&nbsp;â€”&nbsp;</span>
                <span class="pub__venue"><em>{{ post.venue }}</em></span>
              {%- endif -%}
              {%- if post.year -%}
                <span class="pub__dot"> Â· </span><span class="pub__year">{{ post.year }}</span>
              {%- endif -%}
            </p>

            {%- if post.abstract -%}
              <div class="archive__item-excerpt">{{ post.abstract }}</div>
            {%- endif -%}

            <div class="pub__footer">
              {%- if post.pdf_link -%}
                <a class="pub__link" href="{{ post.pdf_link }}" target="_blank" rel="noopener">ðŸ“„ Preprint</a>
              {%- endif -%}
            </div>
          </article>
        {%- endfor -%}
      {%- endif -%}

      {%- if main_items.size == 0 and wip.size == 0 -%}
        {{ content }}
      {%- endif -%}
    </div>
  </div>

  <!-- RIGHT-SIDE TOC -->
  <aside class="toc toc--right">
    <h2 class="toc__title">Research Papers</h2>

    {%- if main_items and main_items.size > 0 -%}
      <ol class="toc__list">
        {%- for post in main_items -%}
          {%- assign raw_status = post.status | downcase -%}
          {%- capture status_label -%}
            {%- case raw_status -%}
              {%- when "under_review" -%}Under Review
              {%- when "major_revision" -%}Major Revision
              {%- when "minor_revision" -%}Minor Revision
              {%- when "accepted" -%}Accepted
              {%- when "in_press" -%}In Press
              {%- when "published" -%}Published
              {%- when "draft" -%}Draft
              {%- when "work_in_progress" -%}Work in Progress
              {%- else -%}{{ post.status | replace: "_"," " | capitalize }}
            {%- endcase -%}
          {%- endcapture -%}
          {%- assign anchor_id = post.slug | default: post.title | slugify -%}
          <li>
            <a href="#pub-{{ anchor_id }}">
              <span class="toc__title-text">{{ post.title }}</span>
              {%- if post.status -%}
                <span class="toc__dash"> â€” </span>
                <span class="pub__status pub__status--mini">{{ status_label | strip }}</span>
              {%- endif -%}
            </a>
          </li>
        {%- endfor -%}
      </ol>
    {%- endif -%}

    {%- if wip and wip.size > 0 -%}
      <h3 class="toc__section">In preparation</h3>
      <ol class="toc__list">
        {%- for post in wip -%}
          {%- assign anchor_id = post.slug | default: post.title | slugify -%}
          <li>
            <a href="#pub-{{ anchor_id }}">
              <span class="toc__title-text">{{ post.title }}</span>
              <span class="toc__dash"> â€” </span>
              <span class="pub__status pub__status--mini">Work in Progress</span>
            </a>
          </li>
        {%- endfor -%}
      </ol>
    {%- endif -%}
  </aside>
</div>
